{"version":3,"sources":["paperSelect.tsx"],"names":["React","memo","useCallback","useEffect","useRef","useState","View","StyleSheet","Dimensions","FlatList","TextInput","Button","Dialog","Portal","Searchbar","ThemeProvider","useTheme","Text","CheckboxInput","PaperSelect","label","arrayList","selectedArrayList","multiEnable","value","onSelection","disabled","hideSearchBox","selectAllEnable","textInputMode","theme","themeOverrides","inputRef","limit","limitError","limitErrorStyle","dialogTitle","selectAllText","searchText","dialogCloseButtonText","dialogDoneButtonText","errorText","containerStyle","textInputStyle","textInputOutlineStyle","dialogStyle","dialogTitleStyle","searchStyle","dialogCloseButtonStyle","dialogDoneButtonStyle","errorStyle","textColor","textInputProps","textInputPropOverrides","checkboxProps","checkboxPropsOverrides","searchbarProps","searchbarPropsOverrides","testID","dialogTestID","searchbarTestID","selectAllCheckboxTestID","itemCheckboxTestIDPrefix","textInputIconProps","style","styles","textInputIcon","size","icon","underlineColor","activeUnderlineColor","outlineColor","activeOutlineColor","left","right","height","get","searchKey","setSearchKey","arrayHolder","setArrayHolder","list","setList","selectedList","setSelectedList","maxLimit","setMaxLimit","length","hasDisabled","setHasDisabled","showLimitError","setShowLimitError","selfInputRef","selectInputRef","visible","setVisible","triggeredByOnCheckedSingle","isMounted","_getData","setTimeout","showDialog","_hideDialog","data","selectedData","finalText","forEach","val","index","el","_id","text","current","blur","_closeDialog","_onFocus","_checkIfAnyItemDisabled","_onChecked","item","indexSelected","findIndex","splice","push","_onCheckedSingle","_exists","_temp","find","_isCheckedAll","_checkAll","slice","_renderItem","_filterFunction","newData","filter","toLowerCase","includes","_list","result","x","container","textInput","undefined","color","colors","error","dialog","paddingHorizontal","searchbar","toString","dialogScrollView","maxHeight","marginBottom","create","width","borderRadius","justifyContent","alignItems","alignSelf","alignContent","borderColor","backgroundColor","borderWidth","marginHorizontal","marginTop"],"mappings":"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","sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React, { memo, useCallback, useEffect, useRef, useState } from 'react';\nimport { View, StyleSheet, Dimensions, FlatList } from 'react-native';\nimport {\n  TextInput,\n  Button,\n  Dialog,\n  Portal,\n  Searchbar,\n  ThemeProvider,\n  useTheme,\n  Text,\n} from 'react-native-paper';\nimport CheckboxInput from '../components/checkBox';\nimport type {\n  ListItem,\n  PaperSelectProps,\n  PaperSelectTextInputProps,\n} from '../interface/paperSelect.interface';\nimport type { InternalTheme } from 'react-native-paper/lib/typescript/types';\n\nconst PaperSelect = ({\n  // Required props\n  label,\n  arrayList,\n  selectedArrayList,\n  multiEnable,\n  value,\n  onSelection,\n\n  // Core props\n  disabled = false,\n  hideSearchBox = false,\n  selectAllEnable = true,\n  textInputMode = 'flat',\n  theme: themeOverrides,\n  inputRef,\n  limit = null,\n  limitError = `You can't select more than ${limit} items.`,\n  limitErrorStyle,\n\n  // Localization props\n  dialogTitle,\n  selectAllText = 'Select all',\n  searchText = 'Search',\n  dialogCloseButtonText = 'Close',\n  dialogDoneButtonText = 'Done',\n  errorText,\n\n  // Style props\n  containerStyle,\n  textInputStyle,\n  textInputOutlineStyle,\n  dialogStyle,\n  dialogTitleStyle,\n  searchStyle,\n  dialogCloseButtonStyle,\n  dialogDoneButtonStyle,\n  errorStyle,\n  textColor,\n\n  // Component props\n  textInputProps: textInputPropOverrides,\n  checkboxProps: checkboxPropsOverrides,\n  searchbarProps: searchbarPropsOverrides,\n\n  // New testID props\n  testID,\n  dialogTestID,\n  searchbarTestID,\n  selectAllCheckboxTestID,\n  itemCheckboxTestIDPrefix = 'checkbox-', // Prefix for item checkboxes testID\n}: PaperSelectProps) => {\n  const theme = useTheme<InternalTheme>(themeOverrides);\n\n  const textInputIconProps = {\n    style: styles.textInputIcon,\n    size: 20,\n    icon: 'chevron-down',\n  };\n\n  const textInputProps: PaperSelectTextInputProps = {\n    underlineColor: textInputPropOverrides?.underlineColor ?? 'black',\n    activeUnderlineColor:\n      textInputPropOverrides?.activeUnderlineColor ?? 'black',\n    outlineColor: textInputPropOverrides?.outlineColor ?? 'black',\n    activeOutlineColor: textInputPropOverrides?.activeOutlineColor ?? 'black',\n    left: textInputPropOverrides?.left,\n    right: textInputPropOverrides?.right ?? (\n      <TextInput.Icon {...textInputIconProps} />\n    ),\n  };\n\n  const { height } = Dimensions.get('window');\n\n  const [searchKey, setSearchKey] = useState<string>('');\n\n  const [arrayHolder, setArrayHolder] = useState<Array<ListItem>>([\n    ...arrayList,\n  ]);\n  const [list, setList] = useState<Array<ListItem>>([...arrayList]);\n  const [selectedList, setSelectedList] = useState<Array<ListItem>>([\n    ...selectedArrayList,\n  ]);\n\n  const [maxLimit, setMaxLimit] = useState<number>(list.length);\n\n  const [hasDisabled, setHasDisabled] = useState<boolean>(false);\n\n  const [showLimitError, setShowLimitError] = useState<boolean>(false);\n\n  const selfInputRef = useRef<any>(null);\n  const selectInputRef = inputRef ?? selfInputRef;\n\n  const [visible, setVisible] = useState<boolean>(false);\n\n  const triggeredByOnCheckedSingle = useRef(false);\n\n  useEffect(() => {\n    let isMounted = true;\n    let _getData = async () => {\n      if (isMounted && showLimitError) {\n        setTimeout(() => {\n          setShowLimitError(false);\n        }, 10000);\n      }\n    };\n\n    _getData();\n    return () => {\n      isMounted = false;\n    };\n  }, [showLimitError]);\n\n  const showDialog = () => setVisible(true);\n\n  const _hideDialog = useCallback(() => {\n    setSearchKey('');\n    var data: Array<ListItem> = [...arrayHolder];\n    var selectedData: Array<ListItem> = [...selectedList];\n    let finalText: string = '';\n    selectedData.forEach((val, index) => {\n      data.forEach((el) => {\n        if (val._id === el._id) {\n          finalText +=\n            index !== selectedData.length - 1 ? `${el.value}, ` : `${el.value}`;\n        }\n      });\n    });\n\n    onSelection({\n      text: finalText,\n      selectedList: selectedData,\n    });\n\n    setVisible(false);\n\n    if (selectInputRef && selectInputRef.current) {\n      selectInputRef.current.blur();\n    }\n  }, [arrayHolder, selectedList, onSelection, selectInputRef]);\n\n  const _closeDialog = () => {\n    setVisible(false);\n    setSearchKey('');\n    if (selectInputRef && selectInputRef.current) {\n      selectInputRef.current.blur();\n    }\n  };\n\n  const _onFocus = () => {\n    setArrayHolder([...arrayList]);\n    setList([...arrayList]);\n    setMaxLimit([...arrayList].length);\n    setHasDisabled(_checkIfAnyItemDisabled([...arrayList]));\n    setSelectedList([...selectedArrayList]);\n    showDialog();\n  };\n\n  const _onChecked = (item: any) => {\n    var selectedData = [...selectedList];\n    // const index = data.findIndex(x => x._id === item._id);\n    const indexSelected = selectedData.findIndex((val) => val._id === item._id);\n    if (indexSelected > -1) {\n      selectedData.splice(indexSelected, 1);\n    } else {\n      if (limit && selectedData.length === limit) {\n        setShowLimitError(true);\n      } else {\n        setShowLimitError(false);\n        selectedData.push(item);\n      }\n    }\n    setSelectedList([...selectedData]);\n  };\n\n  const _onCheckedSingle = (item: any) => {\n    triggeredByOnCheckedSingle.current = true;\n\n    var selectedData = [...selectedList];\n    // const index = data.findIndex(x => x._id === item._id);\n    const indexSelected = selectedData.findIndex((val) => val._id === item._id);\n    if (indexSelected > -1) {\n      // selectedData.splice(indexSelected, 1);\n      selectedData = [];\n    } else {\n      selectedData = [];\n      selectedData.push(item);\n    }\n    // console.log(selectedData);\n    setSelectedList([...selectedData]);\n  };\n\n  useEffect(() => {\n    if (triggeredByOnCheckedSingle.current) {\n      triggeredByOnCheckedSingle.current = false;\n      _hideDialog();\n    }\n  }, [selectedList, _hideDialog]);\n\n  const _exists = (item: any) => {\n    // console.log(selectedList);\n    let _temp = [...selectedList];\n    return _temp.find((val: any) => val._id === item._id) ? true : false;\n  };\n\n  const _isCheckedAll = () => {\n    const data = [...list];\n    const selectedData = [...selectedList];\n    return selectedData.length !== 0 && selectedData.length === data.length;\n  };\n\n  const _checkAll = () => {\n    const data = [...list];\n    var selectedData = [...selectedList];\n    if (selectedData.length === data.length) {\n      selectedData = [];\n    } else if (selectedData.length === 0 || selectedData.length > 0) {\n      selectedData = data.slice(0);\n    }\n\n    setSelectedList([...selectedData]);\n  };\n\n  const _renderItem = ({ item }: { item: ListItem }) => (\n    <CheckboxInput\n      {...checkboxPropsOverrides}\n      isChecked={_exists(item)}\n      label={item.value}\n      onPress={() => {\n        multiEnable === true ? _onChecked(item) : _onCheckedSingle(item);\n      }}\n      disabled={item.disabled}\n      testID={`${itemCheckboxTestIDPrefix}${item._id}`}\n    />\n  );\n\n  const _filterFunction = (text: string) => {\n    setSearchKey(text);\n    const newData = arrayHolder.filter((item) =>\n      item.value.toLowerCase().includes(text.toLowerCase())\n    );\n    setList(newData);\n  };\n\n  const _checkIfAnyItemDisabled = (_list: Array<ListItem>) => {\n    const data = [..._list];\n    let result = data.find((x) => x.disabled);\n    return result ? true : false;\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <View style={[styles.container, containerStyle]}>\n        <TextInput\n          {...textInputProps}\n          ref={selectInputRef}\n          disabled={disabled}\n          style={[styles.textInput, textInputStyle]}\n          outlineStyle={textInputOutlineStyle}\n          label={label}\n          mode={textInputMode}\n          onFocus={disabled ? undefined : _onFocus}\n          showSoftInputOnFocus={false}\n          value={value}\n          textColor={textColor}\n          error={errorText && errorText?.length > 0 ? true : false}\n          testID={testID}\n        />\n        {errorText ? (\n          <Text\n            style={[\n              {\n                color: theme.colors.error,\n              },\n              errorStyle,\n            ]}\n          >\n            {errorText}\n          </Text>\n        ) : null}\n      </View>\n\n      <View>\n        <Portal>\n          <Dialog\n            style={[styles.dialog, dialogStyle]}\n            visible={visible}\n            dismissable={false}\n            testID={dialogTestID}\n          >\n            <Dialog.Title style={dialogTitleStyle}>\n              {dialogTitle ?? label}\n            </Dialog.Title>\n            <Dialog.ScrollArea style={{ paddingHorizontal: 14 }}>\n              {!hideSearchBox ? (\n                <Searchbar\n                  {...searchbarPropsOverrides}\n                  value={searchKey}\n                  placeholder={searchText}\n                  onChangeText={(text: string) => _filterFunction(text)}\n                  style={[styles.searchbar, searchStyle]}\n                  testID={searchbarTestID}\n                />\n              ) : null}\n\n              {/* <ScrollView\n                style={\n                  (styles.dialogScrollView,\n                    { maxHeight: height - (height * 40) / 100, marginBottom: 8 })\n                }\n                keyboardShouldPersistTaps=\"handled\"\n              >\n                {multiEnable === true\n                  ? _renderListForMulti()\n                  : _renderListForSingle()}\n              </ScrollView> */}\n              <FlatList\n                ListHeaderComponent={\n                  multiEnable === true && selectAllEnable === true ? (\n                    <CheckboxInput\n                      {...checkboxPropsOverrides}\n                      isChecked={_isCheckedAll()}\n                      label={selectAllText}\n                      onPress={() => {\n                        _checkAll();\n                      }}\n                      disabled={\n                        hasDisabled ||\n                        (limit && limit > 0 && limit !== maxLimit)\n                          ? true\n                          : false\n                      }\n                      testID={selectAllCheckboxTestID}\n                    />\n                  ) : null\n                }\n                data={list}\n                renderItem={_renderItem}\n                keyExtractor={(item) => item._id.toString()}\n                keyboardShouldPersistTaps=\"handled\"\n                style={\n                  (styles.dialogScrollView,\n                  {\n                    maxHeight: height - (height * 45) / 100,\n                    marginBottom: 8,\n                  })\n                }\n              />\n              {showLimitError ? (\n                <Text\n                  style={[\n                    {\n                      color: theme.colors.error,\n                    },\n                    limitErrorStyle,\n                  ]}\n                >\n                  {limitError}\n                </Text>\n              ) : null}\n            </Dialog.ScrollArea>\n            <Dialog.Actions>\n              <Button\n                labelStyle={dialogCloseButtonStyle}\n                onPress={_closeDialog}\n              >\n                {dialogCloseButtonText}\n              </Button>\n              <Button labelStyle={dialogDoneButtonStyle} onPress={_hideDialog}>\n                {dialogDoneButtonText}\n              </Button>\n            </Dialog.Actions>\n          </Dialog>\n        </Portal>\n      </View>\n    </ThemeProvider>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    marginBottom: 10,\n  },\n  dialog: {\n    borderRadius: 5,\n  },\n  dialogScrollView: {\n    width: '100%',\n  },\n  textInput: {\n    // backgroundColor: '#fff',\n    // color: '#000',\n  },\n  textInputIcon: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center',\n    alignContent: 'center',\n  },\n  searchbar: {\n    borderColor: '#777777',\n    backgroundColor: '#F1F1F2',\n    borderWidth: 0.25,\n    marginBottom: 10,\n    marginHorizontal: 8,\n    color: '#000',\n    marginTop: 12,\n  },\n});\n\nexport default memo(PaperSelect);\n"]}